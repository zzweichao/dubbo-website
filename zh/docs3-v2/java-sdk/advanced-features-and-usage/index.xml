<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Apache Dubbo – 高级特性和用法</title><link>https://dubbo.apache.org/zh/docs3-v2/java-sdk/advanced-features-and-usage/</link><description>Recent content in 高级特性和用法 on Apache Dubbo</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><atom:link href="https://dubbo.apache.org/zh/docs3-v2/java-sdk/advanced-features-and-usage/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs3-V2: 配置框架与服务行为</title><link>https://dubbo.apache.org/zh/docs3-v2/java-sdk/advanced-features-and-usage/service/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh/docs3-v2/java-sdk/advanced-features-and-usage/service/</guid><description/></item><item><title>Docs3-V2: 流量治理规则</title><link>https://dubbo.apache.org/zh/docs3-v2/java-sdk/advanced-features-and-usage/traffic/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh/docs3-v2/java-sdk/advanced-features-and-usage/traffic/</guid><description>
&lt;h3 id="流量管理">流量管理&lt;/h3>
&lt;p>流量管理的本质是将请求根据制定好的路由规则分发到应用服务上，如下图所示：&lt;/p>
&lt;p>&lt;img src="https://dubbo.apache.org/imgs/v3/concepts/what-is-traffic-control.png" alt="What is traffic control">&lt;/p>
&lt;p>其中：&lt;/p>
&lt;ul>
&lt;li>路由规则可以有多个，不同的路由规则之间存在优先级。如：Router(1) -&amp;gt; Router(2) -&amp;gt; …… -&amp;gt; Router(n)&lt;/li>
&lt;li>一个路由规则可以路由到多个不同的应用服务。如：Router(2) 既可以路由到 Service(1) 也可以路由到 Service(2)&lt;/li>
&lt;li>多个不同的路由规则可以路由到同一个应用服务。如：Router(1) 和 Router(2) 都可以路由到 Service(2)&lt;/li>
&lt;li>路由规则也可以不路由到任何应用服务。如：Router(m) 没有路由到任何一个 Service 上，所有命中 Router(m) 的请求都会因为没有对应的应用服务处理而导致报错&lt;/li>
&lt;li>应用服务可以是单个的实例，也可以是一个应用集群。&lt;/li>
&lt;/ul>
&lt;h3 id="dubbo-mesh-格式流量管理介绍">Dubbo Mesh 格式流量管理介绍&lt;/h3>
&lt;p>Dubbo 提供了支持 mesh 方式的流量管理策略，可以很容易实现 &lt;a href="./mesh-style/ab-testing-deployment/">A/B测试&lt;/a>、&lt;a href="./mesh-style/canary-deployment/">金丝雀发布&lt;/a>、&lt;a href="./mesh-style/blue-green-deployment/">蓝绿发布&lt;/a> 等能力。&lt;/p>
&lt;p>Dubbo 将整个流量管理分成 &lt;a href="./mesh-style/virtualservice/">VirtualService&lt;/a> 和 &lt;a href="./mesh-style/destination-rule/">DestinationRule&lt;/a> 两部分。当 Consumer 接收到一个请求时，会根据 &lt;a href="./mesh-style/virtualservice/">VirtualService&lt;/a> 中定义的 &lt;a href="./mesh-style/virtualservice/#dubboroute">DubboRoute&lt;/a> 和 &lt;a href="./mesh-style/virtualservice/#dubboroutedetail">DubboRouteDetail&lt;/a> 匹配到对应的 &lt;a href="./mesh-style/virtualservice/#dubbodestination">DubboDestination&lt;/a> 中的 subnet，最后根据 &lt;a href="./mesh-style/destination-rule/">DestinationRule&lt;/a> 中配置的 &lt;a href="./mesh-style/destination-rule/#subset">subnet&lt;/a> 信息中的 labels 找到对应需要具体路由的 Provider 集群。其中：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="./mesh-style/virtualservice/">VirtualService&lt;/a> 主要处理入站流量分流的规则，支持服务级别和方法级别的分流。&lt;/li>
&lt;li>&lt;a href="./mesh-style/virtualservice/#dubboroute">DubboRoute&lt;/a> 主要解决服务级别的分流问题。同时，还提供的重试机制、超时、故障注入、镜像流量等能力。&lt;/li>
&lt;li>&lt;a href="./mesh-style/virtualservice/#dubboroutedetail">DubboRouteDetail&lt;/a> 主要解决某个服务中方法级别的分流问题。支持方法名、方法参数、参数个数、参数类型、header 等各种维度的分流能力。同时也支持方法级的重试机制、超时、故障注入、镜像流量等能力。&lt;/li>
&lt;li>&lt;a href="./mesh-style/virtualservice/#dubbodestination">DubboDestination&lt;/a> 用来描述路由流量的目标地址，支持 host、port、subnet 等方式。&lt;/li>
&lt;li>&lt;a href="./mesh-style/destination-rule/">DestinationRule&lt;/a> 主要处理目标地址规则，可以通过 hosts、subnet 等方式关联到 Provider 集群。同时可以通过 &lt;a href="./mesh-style/destination-rule/#trafficpolicy">trafficPolicy&lt;/a> 来实现负载均衡。&lt;/li>
&lt;/ul>
&lt;p>这种设计理念很好的解决流量分流和目标地址之间的耦合问题。不仅将配置规则进行了简化有效避免配置冗余的问题，还支持 &lt;a href="./mesh-style/virtualservice/">VirtualService&lt;/a> 和 &lt;a href="./mesh-style/destination-rule/">DestinationRule&lt;/a> 的任意组合，可以非常灵活的支持各种业务使用场景。&lt;/p></description></item><item><title>Docs3-V2: 诊断与调优</title><link>https://dubbo.apache.org/zh/docs3-v2/java-sdk/advanced-features-and-usage/performance/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh/docs3-v2/java-sdk/advanced-features-and-usage/performance/</guid><description/></item><item><title>Docs3-V2: 提升服务安全性</title><link>https://dubbo.apache.org/zh/docs3-v2/java-sdk/advanced-features-and-usage/security/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh/docs3-v2/java-sdk/advanced-features-and-usage/security/</guid><description/></item><item><title>Docs3-V2: 其他</title><link>https://dubbo.apache.org/zh/docs3-v2/java-sdk/advanced-features-and-usage/others/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh/docs3-v2/java-sdk/advanced-features-and-usage/others/</guid><description/></item></channel></rss>